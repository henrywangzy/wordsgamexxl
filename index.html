<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å•è¯æ¶ˆæ¶ˆä¹ - ç§»åŠ¨ç«¯H5ç‰ˆ</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- èƒŒæ™¯è£…é¥° -->
    <div class="bg-decoration"></div>

    <!-- é£˜æµ®è£…é¥°å…ƒç´  -->
    <div class="floating-icons">
        <div class="floating-icon">ğŸ“š</div>
        <div class="floating-icon">âœ¨</div>
        <div class="floating-icon">ğŸ¯</div>
        <div class="floating-icon">ğŸŒŸ</div>
        <div class="floating-icon">ğŸ’¡</div>
    </div>

    <!-- ========== é¦–é¡µï¼ˆå¹´çº§é€‰æ‹©ï¼‰========== -->
    <div class="page active" id="homePage">
        <div class="home-container">
            <div class="game-icon">ğŸ“š</div>
            <h1 class="home-title">å•è¯æ¶ˆæ¶ˆä¹</h1>
            <p class="home-subtitle">
                é€šè¿‡è¶£å‘³é…å¯¹ï¼Œè®©å­¦ä¹ æ›´æœ‰è¶£ï¼<br>
                é€‰æ‹©ä½ çš„å¹´çº§ï¼Œå¼€å§‹æŒ‘æˆ˜å§ï¼
            </p>

            <!-- å¹´çº§é€‰æ‹©åŒº -->
            <div class="grade-section">
                <h2 class="section-title">é€‰æ‹©å¹´çº§</h2>
                <div class="grade-buttons">
                    <button class="grade-btn" onclick="Game.selectGrade('grade1')">
                        ä¸€å¹´çº§
                        <div class="grade-info">4Ã—9 Â· 18å¯¹ Â· 120ç§’</div>
                    </button>
                    <button class="grade-btn" onclick="Game.selectGrade('grade2')">
                        äºŒå¹´çº§
                        <div class="grade-info">4Ã—9 Â· 18å¯¹ Â· 120ç§’</div>
                    </button>
                    <button class="grade-btn" onclick="Game.selectGrade('grade3')">
                        ä¸‰å¹´çº§
                        <div class="grade-info">4Ã—9 Â· 18å¯¹ Â· 150ç§’</div>
                    </button>
                    <button class="grade-btn" onclick="Game.selectGrade('grade4')">
                        å››å¹´çº§
                        <div class="grade-info">4Ã—9 Â· 18å¯¹ Â· 150ç§’</div>
                    </button>
                    <button class="grade-btn" onclick="Game.selectGrade('grade5')">
                        äº”å¹´çº§
                        <div class="grade-info">4Ã—10 Â· 20å¯¹ Â· 180ç§’</div>
                    </button>
                    <button class="grade-btn" onclick="Game.selectGrade('grade6')">
                        å…­å¹´çº§
                        <div class="grade-info">4Ã—10 Â· 20å¯¹ Â· 180ç§’</div>
                    </button>
                </div>
            </div>
        </div>

        <!-- ç½²å -->
        <div class="credit">
            ğŸ‘©â€ğŸ’» åˆ¶ä½œ: æ³¡æ³¡å¦ˆå­¦AI
        </div>
    </div>

    <!-- ========== æ¸¸æˆé¡µ ========== -->
    <div class="page" id="gamePage">
        <!-- é¡¶éƒ¨ç»Ÿè®¡æ  -->
        <div class="game-header">
            <div class="stat-item">
                <div class="stat-label">å¾—åˆ†</div>
                <div class="stat-value" id="gameScore">0</div>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <div class="stat-label">è¿å‡»</div>
                <div class="stat-value" id="gameCombo">0</div>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <div class="stat-label">â±ï¸ æ—¶é—´</div>
                <div class="stat-value" id="gameTimer">120</div>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <div class="stat-label">æ­£ç¡®ç‡</div>
                <div class="stat-value" id="gameAccuracy">100%</div>
            </div>
        </div>

        <!-- è¿›åº¦æ¡ -->
        <div class="progress-container">
            <div class="progress-fill" id="gameProgress" style="width: 0%;"></div>
        </div>

        <!-- æ¸¸æˆæ¿å®¹å™¨ - 4åˆ—Ã—9è¡Œç«–ç›´å¸ƒå±€ -->
        <div class="game-board-container">
            <div class="game-board easy" id="gameBoard">
                <!-- å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>

        <!-- æ§åˆ¶æŒ‰é’® -->
        <div class="game-controls">
            <button class="control-btn home" onclick="Game.backToHome()">ğŸ </button>
            <button class="control-btn pause" onclick="Game.togglePause()">â¸ï¸</button>
            <button class="control-btn restart" onclick="Game.restartGame()">ğŸ”„</button>
            <button class="control-btn music" onclick="Game.toggleMusic()">ğŸµ</button>
        </div>
    </div>

    <!-- ========== æ¸¸æˆç»“æŸé¡µ ========== -->
    <div class="page" id="gameEndPage">
        <div class="end-content">
            <div class="end-icon">ğŸ†</div>
            <h2 class="end-title">æ¸¸æˆç»“æŸï¼</h2>
            <p class="end-subtitle" id="endSubtitle">å¤ªæ£’äº†ï¼</p>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">æœ€ç»ˆå¾—åˆ†</div>
                    <div class="stat-value" id="finalScore">2850</div>
                </div>
                <div class="stat-card highlight">
                    <div class="stat-label">æ­£ç¡®ç‡</div>
                    <div class="stat-value" id="finalAccuracy">92%</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">ç”¨æ—¶</div>
                    <div class="stat-value" id="finalTime">95ç§’</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">æœ€é«˜è¿å‡»</div>
                    <div class="stat-value" id="finalCombo">8</div>
                </div>
            </div>

            <div class="achievement" id="achievement">
                ğŸ‰ è·å¾—æˆå°±ï¼šè¿å‡»è¾¾äººï¼
            </div>

            <div class="action-buttons">
                <button class="action-btn primary" onclick="Game.restartGame()">
                    ğŸ”„ å†ç©ä¸€æ¬¡
                </button>
                <button class="action-btn secondary" onclick="Game.shareScore()">
                    ğŸ“¤ åˆ†äº«æˆç»©
                </button>
                <button class="action-btn secondary" onclick="Game.showPage('homePage')">
                    ğŸ  è¿”å›é¦–é¡µ
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript æ–‡ä»¶ -->
    <script src="js/word-database.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/speech.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/game.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œå¯ä»¥å¼€å§‹äº¤äº’ï¼');
            Game.init();
        });

        // é˜²æ­¢åŒå‡»ç¼©æ”¾
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // æ¨ªå±æ£€æµ‹
        window.addEventListener('orientationchange', function() {
            setTimeout(() => {
                Game.checkOrientation();
            }, 100);
        });

        window.addEventListener('resize', function() {
            Game.checkOrientation();
        });
    </script>
</body>
</html>
